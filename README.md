# Artifact repository for 'Side Channel Attacks on Optane Persistent Memory'. 
This readme contains basic commands to reproduce results of the experiments. 

## Prerequisite Software 
- ndctl/daxctl v68
- pmdk 1.9.2
- pmemkv 1.3
- libuv 1.18
- websocket-client (pip package)

## Experimental Setup
- To run all our experiments, we need 2 servers, both with Intel Optane DCPMM DIMMs installed. This is because some of our security attacks are performed over the network.
- Moreover, our reverse-engineering experiments are performed on a server with prefetchers disabled.
- Thus, we have one server with prefetching enabled (where we perform security attacks), and one server with prefetching disabled (where we perform reverse-engineering experiments). 
- On each server, each `/dev/pmemX` device is mounted (with -o dax) on `/mnt/pmemX`. Morevoer, `/mnt/ramdisk` is symlinked to some `/dev/pmemX` device. Setting this up on each server can be automated by running the `common/startup.sh` script on each server.

## Running Experiments
Running the `runall-ae.sh` script (on the server with prefetching disabled) will re-run all experiments, re-generate all the results, and compile the report. The `runall-ae.sh` comminicates with the other server  (using the `remote_ip` and `remote_user` environment variables) to automatically coordinate the experiments.

More precisely, this script does the following:
- Runs each one of our experiments one by one. Each experiment directory has a `script-ae.sh` script which runs the experiment. When one runs `runall-ae.sh`, we find all `script-ae.sh` files, and run them sequentially.
- Once all the experiments have completed, the results of each experiment is copied to the `report/` diretory, which also contains the tex file of the report.
- Finally, the final report (`report/report.pdf`) is generated by running `make` in the `report/` directory.

## Repository Directory Structure
```shell
.
├── common          # Programs + scripts common to many experiments
├── keystroke       # Keystroke attack code + keystroke data
├── local_covert    # Single machine cross-core covert channel
├── noteboard       # Noteboard covert channel: A persistent, asynchrnous covert channel
├── remote_covert   # Cross-network covert channel
├── report          # Final report tex files
├── reverse         # Reverse engineering experiments
└── util            # Low level (C / asm) code used in many experiments
```

## Cite Us
``` BibTeX
@inproceedings{Liu2023Side,
 author = {Liu, Sihang and Kanniwadi, Suraaj and Schwarzl, Martin and Kogler, Andreas and Gruss, Daniel and Khan, Samira},
 booktitle = {USENIX Security Symposium},
 title = {Side-Channel Attacks on Optane Persistent Memory},
 url = {media/files/optane.pdf},
 year = {2023}
}
```
